{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",
  "version": "1.0",
  "project_name": "StartupAI CrewAI Backend",
  "description": "CrewAI Flows backend on Modal serverless (5 flows / 14 crews / 45 agents)",
  
  "security": {
    "mode": "strict",
    "deny_file_access": [
      ".env*",
      "~/.config/crewai/**",
      "*.pem",
      "*.key",
      ".git/**"
    ],
    "deny_file_edit": [
      ".env*",
      "~/.config/crewai/settings.json"
    ],
    "sensitive_patterns": [
      "OPENAI_API_KEY",
      "crewai.com",
      "Bearer",
      "6b1e5c4d-e708-4921-be55-08fcb0d1e94b",
      "f4cc39d92520"
    ]
  },

  "permissions": {
    "allowed_commands_no_confirm": [
      "git status",
      "git log",
      "git diff",
      "crewai deploy status*",
      "crewai deploy logs*",
      "ls",
      "cat",
      "pwd",
      "uv sync"
    ],
    "require_confirmation": [
      "crewai deploy push*",
      "crewai login",
      "git push*",
      "git commit*",
      "uv add*",
      "uv remove*",
      "rm *",
      "mv *"
    ],
    "blocked_commands": [
      "sudo*",
      "chmod*",
      "pip*"
    ]
  },

  "project_context": {
    "framework": "CrewAI Flows + Crews (Python)",
    "architecture": "5-flow / 14-crew / 45-agent pipeline with HITL checkpoints",
    "deployment": "Modal Serverless (production)",
    "package_manager": "uv",
    "python_version": "3.11+",
    "purpose": "Fortune 500-quality strategic business analysis",
    "modal_app_url": "https://chris00walker--startupai-validation-fastapi-app.modal.run",
    "legacy_amp_uuid": "6b1e5c4d-e708-4921-be55-08fcb0d1e94b",
    "organization": "StartupAI (8f17470f-7841-4079-860d-de91ed5d1091)",
    "critical_note": "Modal is canonical; CrewAI AMP is deprecated"
  },

  "agent_workflow": {
    "flows": [
      "Phase 0: OnboardingFlow (1 crew / 4 agents)",
      "Phase 1: VPCDiscoveryFlow (5 crews / 18 agents)",
      "Phase 2: DesirabilityFlow (3 crews / 9 agents)",
      "Phase 3: FeasibilityFlow (2 crews / 4 agents)",
      "Phase 4: ViabilityFlow (3 crews / 9 agents)"
    ],
    "input_format": {
      "project_id": "Project UUID from product app",
      "entrepreneur_input": "Detailed business idea description"
    },
    "output_format": "Structured phase outputs persisted to Supabase (validation_runs, validation_progress, hitl_requests)"
  },

  "coding_standards": {
    "agent_definitions": "src/startupai/config/agents.yaml",
    "task_definitions": "src/startupai/config/tasks.yaml",
    "crew_class": "src/startupai/crew.py (@CrewBase decorator)",
    "type_hints": "Always use Python type hints",
    "docstrings": "Google-style docstrings for all functions",
    "formatter": "black (88 char line length)"
  },

  "workflow": {
    "planning_mode": "always",
    "require_plan_for": [
      "agent_changes",
      "task_modifications",
      "workflow_restructuring",
      "deployment_pushes"
    ]
  },

  "deployment": {
    "endpoint": "https://chris00walker--startupai-validation-fastapi-app.modal.run",
    "auth": "none (internal; Netlify routes enforce)",
    "github_repo": "chris00walker/startupai-crew",
    "branch": "main"
  }
}
